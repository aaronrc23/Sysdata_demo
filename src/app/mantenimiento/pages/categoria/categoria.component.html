<h1>CATEGORIAS</h1>
<br/>
<div class="sub-card">
    <form (ngSubmit)="crearCategoria()" #categoriaForm="ngForm">
        <div class="card1">
            <div class="card flex p-3 mt-4">
                <p-button (click)="showDialog()" icon="pi pi-plus" label="Agregar" styleClass="custom-button" ></p-button>
                <p-dialog header="Agregar Categoria"  [(visible)]="visible" 
                    [breakpoints]="{ '960px': '80vw' }" [modal]="true" [style]="{ width: '50vw' }"                      
                    [draggable]="false" [resizable]="false"  >

                    <div class="inputgroup " >
                        <div class="card flex  flex-column ">
                            <p>Nombre de Categoria</p>
                            <input pInputText type="text" placeholder="Ingrese el nombre" [(ngModel)]="nuevaCategoria.nombre" name="nombre" required #nombreInput />
                        </div>
                        <!----------Checkbox------------>
                        <div class="contd">
                            <input type="checkbox" [(ngModel)]="nuevaCategoria.activo" name="activo"
                                required hidden />
                        </div>
                        <div class="mt-3 flex justify-content-center">
                            <button type="submit" pButton pRipple label="Crear Categoría"
                            class="p-button-success " [disabled]="categoriaForm.invalid"></button>
                        </div>
                       
                    </div>
                </p-dialog>
                
            </div>
        </div>
    </form>
    <p-table [value]="categorias" [tableStyle]="{ 'min-width': '10rem' } " [resizableColumns]="true"
        [paginator]="true" 
        [rows]="5" [showCurrentPageReport]="true" scrollHeight="600px"
        currentPageReportTemplate="Mostrar {first} a {last} de {totalRecords} registros"
        (onPage)="pageChange($event)"
        [rowsPerPageOptions]="[10, 25, 50]"

        styleClass="p-datatable-gridlines" [scrollable]="true">
        <ng-template pTemplate="header" class="header1">
            <tr class="ui-table-header ">
                <th>Código</th>
                <th>Nombre</th>
                <th>Estado</th>
                <th>Opciones</th>
            </tr>
        </ng-template>

        <ng-template pTemplate="body" let-categoria>
            <tr class="ui-table-contenido">
                <td>{{ categoria.idcategoria }}</td>
                <td>{{ categoria.nombre }}</td>
                <td>{{ categoria.activo ? 'Activo' : 'Inactivo' }}</td>

                <td>
                    <div class="flex justify-content-center">
                        <p-button label="Editar" icon="pi pi-pencil" styleClass="btn-edit"></p-button>
                        <p-button label="Eliminar" icon="pi pi-trash" styleClass="btn-delete"></p-button>
                    </div>
                </td>

            </tr>
        </ng-template>
    </p-table>
</div>
